### 프로세스(Procss)

> 프로세스란?
>
> 프로세서(처리기, CPU)에 의해 처리되는 사용자 프로그램, 시스템 프로그램, 즉 실행중인 프로그램을 의미
>
> 시스템의 작업 단위로 프로그램에 입출력 상태를 결합한 형태이며, 중앙 처리 장치에 의해 수행되는 프로그램



- 프로세스 상태 전이

  |         **제출(submit)**         | **작업을 처리하기 위해 사용자가 작업을 시스템에 제출한 상태** |
  | :------------------------------: | ------------------------------------------------------------ |
  |          **접수(hold)**          | 제출된 작업이 스풀 공간인 디스크의 할당 위치에 저장된 상태**** |
  |         **준비(Ready)**          | **프로세스가 프로세서를 할당받기 위해 기다리고 있는 상태**   |
  |          **실행(Run)**           | **준비상태 큐에 있는 프로세스가 프로세서를 할당받아 실행되는 상태** |
  | **대기(wait),<br />블록(Block)** | **프로세스에 입출력 처리가 필요하면 현재 실행중인 프로세스가 중단되고,<br />입출력 처리가 완료될 때까지 대기하고 있는 상태** |
  |          **종료(Exit)**          | **프로세스의 실행이 끝나고 프로세스 할당이 해제된 상태**     |

  

- 프로세스 상태 전이 관련 용어

  - Dispatch : 준비 상태에서 대기하고 있는 프로세스 중 하나가 프로세서를 할당받아 실행 상태로 전이되는 과정
  - Wake Up : 입출력 작업이 완료되어 프로세스가 대기상태에서 준비 상태로 전이되는 과정
  - Block : 실행 중인 프로세스가 입출력 명령을 만나면 대기 상태로 전환



### 스레드(Thread)

- 프로세스 내에서 실행되는 흐름의 단위를 의미

- 프로세스와 마찬가지로 스레드들도 CPU를 공유하며, 한순간에 하나의 스레드만을 실행

- 프로세스 스케줄링에 따른 프로세스 문맥 교환(Context Switching)의 부담을 줄여 성능 향상을 위함

  [^문맥 교환]: CPU가 한 프로세스에서 다른 프로세스로 전환할 때 실행하던 프로세스 상태를 보관하고, 새로운 프로세스의 정보를 적재하여 실행을 준비하는 것



### 상호 배제와 동기화

- 임계 영역 : 두 개 이상의 프로세스들이 공유할 수 없는 자원을 임계 자원이라 하고, 이 자원의 영역을 임계 영역이라고 함
- 세마포어 : 다익스트라에 의해 제안 되었으며 상호 배제를 해결하기 위한 도구로 임계 영역을 위한 열쇠와 같은 역할을 수행



> 뮤텍스와 세마포어의 차이점
>
> 뮤텍스 : Key 에 해당하는 어떤 오브젝트가 있으며 이 오브젝트를 소유한 (쓰레드,프로세스) 만이 공유자원에 접근할 수 있다.
>
> 세마포어 : 현재 공유자원에 접근할 수 있는 쓰레드, 프로세스의 수를 나타내는 값을 두어 상호배제를 달성하는 기법
>
> 출처: https://worthpreading.tistory.com/90 [Worth spreading]



### 교착 상태

: 둘 이상의 프로세스들이 다른 프로세스가 점유하고 있는 자원을 무한정 기다리고 있는 상태

- 교착 상태의 필요 조건

  - 상호 배제 : 한 번에 하나의 프로세스만이 자원을 사용할 수 있다
  - 점유와 대기 : 하나의 프로세스를 소유한 상태에서 다른 프로세스를 요구
  - 비선점 : 하나의 프로세스를 선점한 후 종료될 때까지 놓지 않음
  - 환형 대기 : 여러 프로세스가 공유 자원을 사용하기 위해 원형으로 대기하는 상태

- 교착 상태 해결 방법

  - 교착 상태 예방 : 교착 상태 발생 조건 중 하나를 제거함으로써 수행

    - 상호 배제 부정 : 한 번에 여러 개의 프로세스가 공유 자원을 사용할 수 있도록 함
    - 점유 및 대기 부정 : 프로세스가 실행되기 전 필요한 모든 자원을 할당하여 프로세스 대기를 없애거나 자원이 점유되지 않은 상태에서만 자원을 요구하도록 함
    - 비선점 부정 : 자원을 점유하고 있는 프로세스가 다른 자원을 요구할 때 점유하고 있는 자원을 반납하고, 요구한 자원을 사용하기 위해 기다림
    - 환형 대기 부정 : 자원을 선형 순서로 분류하여 고유 번호 할당하고, 각 프로세스는 현재 점유한 자원의 고유 번호보다 앞이나 뒤 어느 한쪽 방향으로만 자원을 요구하도록 함

  - 교착 상태 회피 : 교착상태가 발생하면 적절히 피해나가는 방법. 시스템이 안전 상태가 되도록 프로세스의 자원 요구만을 할당하는 기법으로 은행원 알고리즘이 대표적

    [^은행원 알고리즘]: 프로세스가 요구하는 자원 할당을 위해 실시간으로 운영 체제가 운영하는 동적인 기법

  - 발견 기법 : 교착 상태가 발생했는지 점검하여 교착 상태에 있는 프로세스와 자원을 발견하는 것으로, 자원 할당 그래프 등을 사용
  - 회복 기법 : 교착 상태를 일으킨 프로세스를 종료하거나 교착 상태의 프로세스에 할당된 자원을 선점하여 프로세스나 자원을 회복